{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/eddie.cm.lam/Desktop/eddie_proj/REdataProj/listingsviewapp/src/App.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useReducer } from \"react\";\nimport XLSX from \"xlsx\";\nimport DataTable from \"./components/DataTable\";\nimport Filters from \"./components/Filters\";\n\nfunction reducer(state, action) {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case \"SET_DATAREADY\":\n      return { ...state,\n        dataReady: payload\n      };\n\n    case \"UPDATE_DATA\":\n      return { ...state,\n        data: payload\n      };\n\n    case \"SET_LOADED\":\n      return { ...state,\n        loaded: payload\n      };\n\n    case \"SET_FAIL\":\n      return { ...state,\n        fail: payload\n      };\n\n    case \"SET_MINPRICE\":\n      return { ...state,\n        minPrice: payload\n      };\n\n    case \"SET_MAXPRICE\":\n      return { ...state,\n        maxPrice: payload\n      };\n\n    case \"SET_USEESTATE\":\n      return { ...state,\n        useEstate: payload\n      };\n\n    case \"SET_ESTATE\":\n      return { ...state,\n        estate: payload\n      };\n\n    case \"SET_ERROR\":\n      return { ...state,\n        error: payload\n      };\n\n    case \"ENABLE_ESTATEFILTER\":\n      return { ...state,\n        useEstate: !useEstate\n      };\n\n    default:\n      return state;\n  }\n}\n\nfunction App() {\n  _s();\n\n  const initialState = {\n    data: [],\n    loaded: false,\n    fail: false,\n    minPrice: 0,\n    maxPrice: 999999999,\n    error: false,\n    estate: \"\",\n    useEstate: false\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const {\n    data,\n    loaded,\n    fail,\n    minPrice,\n    maxPrice,\n    error,\n    estate,\n    useEstate\n  } = state;\n  /**\n   * triggered when user uploads a file;\n   * mainly for updating file if need be\n   */\n\n  const readFile = file => {\n    const promise = new Promise((res, rej) => {\n      /* read file */\n      const fileReader = new FileReader();\n      fileReader.readAsArrayBuffer(file);\n\n      fileReader.onload = e => {\n        const arrayBuffer = e.target.result;\n        /* now can read workbook */\n\n        const workbook = XLSX.read(arrayBuffer, {\n          type: \"buffer\"\n        });\n        const worksheetName = workbook.SheetNames[0];\n        const workSheet = workbook.Sheets[worksheetName];\n        const data = XLSX.utils.sheet_to_json(workSheet);\n        res(data);\n      };\n\n      fileReader.onerror = err => rej(err);\n    });\n    promise.then(d => {\n      dispatch({\n        type: \"UPDATE_DATA\",\n        payload: d[0]\n      });\n      dispatch({\n        type: \"SET_LOADED\",\n        payload: true\n      });\n      return;\n    });\n  };\n  /* fetching data and update data state on mount */\n\n\n  useEffect(() => {\n    /* fetch data from ./public/data.json */\n    fetch(\"data.json\", {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      return response.json();\n    }).then(data => {\n      dispatch({\n        type: \"UPDATE_DATA\",\n        payload: data[0]\n      });\n      dispatch({\n        type: \"SET_ESTATE\",\n        payload: data[0][0][\"Estate\"]\n      });\n      dispatch({\n        type: \"SET_LOADED\",\n        payload: true\n      });\n      return;\n    }).catch(err => {\n      dispatch({\n        type: \"SET_LOADED\",\n        payload: true\n      });\n      dispatch({\n        type: \"SET_FAIL\",\n        payload: true\n      });\n      throw err;\n    });\n  }, []);\n  useEffect(() => {\n    Number(maxPrice) <= Number(minPrice) && maxPrice !== \"\" ? dispatch({\n      type: \"SET_ERROR\",\n      payload: \"Price(max) should be greater than Price(min)\"\n    }) : dispatch({\n      type: \"SET_ERROR\",\n      payload: false\n    });\n  }, [maxPrice, minPrice]);\n\n  const handleSetMinPrice = e => {\n    dispatch({\n      type: \"SET_MINPRICE\",\n      payload: e.target.value\n    });\n  };\n\n  const handleSetMaxPrice = e => {\n    dispatch({\n      type: \"SET_MAXPRICE\",\n      payload: e.target.value\n    });\n  };\n\n  const handleSetEstate = e => {\n    dispatch({\n      type: \"SET_ESTATE\",\n      payload: e.target.value\n    });\n  };\n\n  const handleSetUseEstateFilter = () => {\n    dispatch({\n      type: \"ENABLE_ESTATEFILTER\"\n    });\n  }; // get Estate options\n\n\n  let estateArr = [];\n  data.map(obj => {\n    return estateArr.indexOf(obj.Estate) === -1 && estateArr.push(obj.Estate);\n  }); // get Spec options\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"XlFileLoader\",\n      id: \"XlFileLoader\",\n      accept: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n      onChange: e => {\n        dispatch({\n          type: \"SET_LOADED\",\n          payload: false\n        });\n        const file = e.target.files[0];\n        readFile(file);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filters, {\n      minPrice: minPrice,\n      maxPrice: maxPrice,\n      setMinPriceHandler: handleSetMinPrice,\n      setMaxPriceHandler: handleSetMaxPrice,\n      useEstate: useEstate,\n      estateValue: estate,\n      estateOptions: estateArr,\n      setEstateHandler: handleSetEstate,\n      setEnableEstateFilterHandler: handleSetUseEstateFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), !fail ? loaded ? error ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(DataTable, {\n      data: data,\n      minPrice: minPrice,\n      maxPrice: maxPrice,\n      useEstate: useEstate,\n      estate: estate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Still loading data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Failed to fetch data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"GUSXxL/WUElrtHc/X73NyHNRMdw=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/eddie.cm.lam/Desktop/eddie_proj/REdataProj/listingsviewapp/src/App.jsx"],"names":["React","useEffect","useReducer","XLSX","DataTable","Filters","reducer","state","action","type","payload","dataReady","data","loaded","fail","minPrice","maxPrice","useEstate","estate","error","App","initialState","dispatch","readFile","file","promise","Promise","res","rej","fileReader","FileReader","readAsArrayBuffer","onload","e","arrayBuffer","target","result","workbook","read","worksheetName","SheetNames","workSheet","Sheets","utils","sheet_to_json","onerror","err","then","d","fetch","headers","response","json","catch","Number","handleSetMinPrice","value","handleSetMaxPrice","handleSetEstate","handleSetUseEstateFilter","estateArr","map","obj","indexOf","Estate","push","files"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer } from \"react\";\nimport XLSX from \"xlsx\";\nimport DataTable from \"./components/DataTable\";\nimport Filters from \"./components/Filters\";\n\nfunction reducer(state, action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case \"SET_DATAREADY\":\n      return { ...state, dataReady: payload };\n    case \"UPDATE_DATA\":\n      return { ...state, data: payload };\n    case \"SET_LOADED\":\n      return { ...state, loaded: payload };\n    case \"SET_FAIL\":\n      return { ...state, fail: payload };\n    case \"SET_MINPRICE\":\n      return { ...state, minPrice: payload };\n    case \"SET_MAXPRICE\":\n      return { ...state, maxPrice: payload };\n    case \"SET_USEESTATE\":\n      return {...state, useEstate: payload};\n    case \"SET_ESTATE\":\n      return { ...state, estate: payload };\n    case \"SET_ERROR\":\n      return { ...state, error: payload };\n    case \"ENABLE_ESTATEFILTER\":\n      return {...state, useEstate: !useEstate}\n    default:\n      return state;\n  }\n}\n\nfunction App() {\n  const initialState = {\n    data: [],\n    loaded: false,\n    fail: false,\n    minPrice: 0,\n    maxPrice: 999999999,\n    error: false,\n    estate: \"\",\n    useEstate: false,\n  };\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const { data, loaded, fail, minPrice, maxPrice, error, estate, useEstate } = state;\n\n  /**\n   * triggered when user uploads a file;\n   * mainly for updating file if need be\n   */\n  const readFile = (file) => {\n    const promise = new Promise((res, rej) => {\n      /* read file */\n      const fileReader = new FileReader();\n      fileReader.readAsArrayBuffer(file);\n\n      fileReader.onload = (e) => {\n        const arrayBuffer = e.target.result;\n        /* now can read workbook */\n        const workbook = XLSX.read(arrayBuffer, { type: \"buffer\" });\n        const worksheetName = workbook.SheetNames[0];\n        const workSheet = workbook.Sheets[worksheetName];\n        const data = XLSX.utils.sheet_to_json(workSheet);\n        res(data);\n      };\n\n      fileReader.onerror = (err) => rej(err);\n    });\n\n    promise.then((d) => {\n      dispatch({ type: \"UPDATE_DATA\", payload: d[0] });\n      dispatch({ type: \"SET_LOADED\", payload: true });\n      return;\n    });\n  };\n\n  /* fetching data and update data state on mount */\n  useEffect(() => {\n    /* fetch data from ./public/data.json */\n    fetch(\"data.json\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        dispatch({ type: \"UPDATE_DATA\", payload: data[0] });\n        dispatch({ type: \"SET_ESTATE\", payload: data[0][0][\"Estate\"] });\n        dispatch({ type: \"SET_LOADED\", payload: true });\n        return;\n      })\n      .catch((err) => {\n        dispatch({ type: \"SET_LOADED\", payload: true });\n        dispatch({ type: \"SET_FAIL\", payload: true });\n        throw err;\n      });\n  }, []);\n\n  useEffect(() => {\n    Number(maxPrice) <= Number(minPrice) && maxPrice !== \"\"\n      ? dispatch({\n          type: \"SET_ERROR\",\n          payload: \"Price(max) should be greater than Price(min)\",\n        })\n      : dispatch({ type: \"SET_ERROR\", payload: false });\n  }, [maxPrice, minPrice]);\n\n  const handleSetMinPrice = (e) => {\n    dispatch({ type: \"SET_MINPRICE\", payload: e.target.value });\n  };\n  const handleSetMaxPrice = (e) => {\n    dispatch({ type: \"SET_MAXPRICE\", payload: e.target.value });\n  };\n  const handleSetEstate = (e) => {\n    dispatch({ type: \"SET_ESTATE\", payload: e.target.value });\n  };\n  const handleSetUseEstateFilter = () => {\n    dispatch({type: \"ENABLE_ESTATEFILTER\"})\n  }\n\n  // get Estate options\n  let estateArr = [];\n  data.map((obj) => {\n    return estateArr.indexOf(obj.Estate) === -1 && estateArr.push(obj.Estate);\n  });\n\n  // get Spec options\n\n\n  return (\n    <div className=\"App\">\n      <input\n        type=\"file\"\n        name=\"XlFileLoader\"\n        id=\"XlFileLoader\"\n        accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n        onChange={(e) => {\n          dispatch({ type: \"SET_LOADED\", payload: false });\n          const file = e.target.files[0];\n          readFile(file);\n        }}\n      />\n\n      <Filters\n        minPrice={minPrice}\n        maxPrice={maxPrice}\n        setMinPriceHandler={handleSetMinPrice}\n        setMaxPriceHandler={handleSetMaxPrice}\n\n        useEstate={useEstate}\n        estateValue={estate}\n        estateOptions={estateArr}\n        setEstateHandler={handleSetEstate}\n        setEnableEstateFilterHandler={handleSetUseEstateFilter}\n      />\n\n      {!fail ? (\n        loaded ? (\n          error ? (\n            <h1>{error}</h1>\n          ) : (\n            <DataTable\n              data={data}\n              minPrice={minPrice}\n              maxPrice={maxPrice}\n              useEstate={useEstate}\n              estate={estate}\n            />\n          )\n        ) : (\n          <h1>Still loading data...</h1>\n        )\n      ) : (\n        <h1>Failed to fetch data...</h1>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}