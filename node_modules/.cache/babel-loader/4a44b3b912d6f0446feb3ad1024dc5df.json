{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/eddie.cm.lam/Desktop/eddie_proj/REdataProj/datafilterview/src/App.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport XLSX from 'xlsx';\n\nfunction App() {\n  _s();\n\n  /**\n   * triggered when user uploads a file;\n   * mainly for updating file if need be\n   */\n  const readFile = file => {\n    const promise = new Promise((res, rej) => {\n      /* read file */\n      const fileReader = new FileReader();\n      fileReader.readAsArrayBuffer(file);\n\n      fileReader.onload = e => {\n        const arrayBuffer = e.target.result;\n        /* now can read workbook */\n\n        const workbook = XLSX.read(arrayBuffer, {\n          type: 'buffer'\n        });\n        const worksheetName = workbook.SheetNames[0];\n        const workSheet = workbook.Sheets[worksheetName];\n        const data = XLSX.utils.sheet_to_json(workSheet);\n        res(data);\n      };\n\n      fileReader.onerror = err => rej(err);\n    });\n    promise.then(d => {\n      setData(d);\n    });\n  };\n\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    fetch('../../data.json', {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      console.log(response);\n      response.json();\n    }).then(data => console.log(data));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"XlFileLoader\",\n      id: \"XlFileLoader\",\n      accept: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n      onChange: e => {\n        const file = e.target.files[0];\n        readFile(file);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/eddie.cm.lam/Desktop/eddie_proj/REdataProj/datafilterview/src/App.jsx"],"names":["React","useState","useEffect","XLSX","App","readFile","file","promise","Promise","res","rej","fileReader","FileReader","readAsArrayBuffer","onload","e","arrayBuffer","target","result","workbook","read","type","worksheetName","SheetNames","workSheet","Sheets","data","utils","sheet_to_json","onerror","err","then","d","setData","fetch","headers","response","console","log","json","files"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,IAAP,MAAiB,MAAjB;;AAEA,SAASC,GAAT,GAAe;AAAA;;AAEb;AACF;AACA;AACA;AACE,QAAMC,QAAQ,GAAIC,IAAD,IAAU;AACzB,UAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAY,CAACC,GAAD,EAAMC,GAAN,KAAY;AACtC;AACA,YAAMC,UAAU,GAAG,IAAIC,UAAJ,EAAnB;AACAD,MAAAA,UAAU,CAACE,iBAAX,CAA6BP,IAA7B;;AAEAK,MAAAA,UAAU,CAACG,MAAX,GAAqBC,CAAD,IAAO;AACzB,cAAMC,WAAW,GAAGD,CAAC,CAACE,MAAF,CAASC,MAA7B;AACA;;AACA,cAAMC,QAAQ,GAAGhB,IAAI,CAACiB,IAAL,CAAUJ,WAAV,EAAuB;AAACK,UAAAA,IAAI,EAAC;AAAN,SAAvB,CAAjB;AACA,cAAMC,aAAa,GAAGH,QAAQ,CAACI,UAAT,CAAoB,CAApB,CAAtB;AACA,cAAMC,SAAS,GAAGL,QAAQ,CAACM,MAAT,CAAgBH,aAAhB,CAAlB;AACA,cAAMI,IAAI,GAAGvB,IAAI,CAACwB,KAAL,CAAWC,aAAX,CAAyBJ,SAAzB,CAAb;AACAf,QAAAA,GAAG,CAACiB,IAAD,CAAH;AACD,OARD;;AAUAf,MAAAA,UAAU,CAACkB,OAAX,GAAsBC,GAAD,IAASpB,GAAG,CAACoB,GAAD,CAAjC;AACD,KAhBe,CAAhB;AAmBAvB,IAAAA,OAAO,CAACwB,IAAR,CAAcC,CAAD,IAAK;AAChBC,MAAAA,OAAO,CAACD,CAAD,CAAP;AACD,KAFD;AAGD,GAvBD;;AAyBA,QAAM,CAACN,IAAD,EAAOO,OAAP,IAAkBhC,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAI;AAEZgC,IAAAA,KAAK,CAAC,iBAAD,EAAoB;AACvBC,MAAAA,OAAO,EAAC;AACN,wBAAgB;AADV;AADe,KAApB,CAAL,CAKCJ,IALD,CAKMK,QAAQ,IAAE;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAA,MAAAA,QAAQ,CAACG,IAAT;AAAgB,KAPlB,EAQCR,IARD,CAQML,IAAI,IAAEW,OAAO,CAACC,GAAR,CAAYZ,IAAZ,CARZ;AAUD,GAZQ,EAYP,EAZO,CAAT;AAcA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AACA,MAAA,IAAI,EAAC,cADL;AAEA,MAAA,EAAE,EAAC,cAFH;AAGA,MAAA,MAAM,EAAC,mEAHP;AAIA,MAAA,QAAQ,EAAGX,CAAD,IAAK;AACb,cAAMT,IAAI,GAAGS,CAAC,CAACE,MAAF,CAASuB,KAAT,CAAe,CAAf,CAAb;AACAnC,QAAAA,QAAQ,CAACC,IAAD,CAAR;AACD;AAPD;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,UADF;AAeD;;GA9DQF,G;;KAAAA,G;AAgET,eAAeA,GAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport XLSX from 'xlsx';\n\nfunction App() {\n\n  /**\n   * triggered when user uploads a file;\n   * mainly for updating file if need be\n   */ \n  const readFile = (file) => {\n    const promise = new Promise((res, rej)=>{\n      /* read file */\n      const fileReader = new FileReader();\n      fileReader.readAsArrayBuffer(file);\n\n      fileReader.onload = (e) => {\n        const arrayBuffer = e.target.result;\n        /* now can read workbook */ \n        const workbook = XLSX.read(arrayBuffer, {type:'buffer'});\n        const worksheetName = workbook.SheetNames[0];\n        const workSheet = workbook.Sheets[worksheetName];\n        const data = XLSX.utils.sheet_to_json(workSheet);\n        res(data);\n      }\n \n      fileReader.onerror = (err) => rej(err);\n    })\n\n\n    promise.then((d)=>{\n      setData(d);\n    })\n  }\n\n  const [data, setData] = useState([]);\n\n  useEffect(()=>{\n    \n    fetch('../../data.json', {\n      headers:{\n        \"Content-Type\": \"application/json\"\n      }\n    })\n    .then(response=>{\n      console.log(response);\n      response.json()})\n    .then(data=>console.log(data));\n\n  },[])\n\n  return (\n    <div className=\"App\">\n\n      <input type=\"file\" \n      name=\"XlFileLoader\"\n      id=\"XlFileLoader\"\n      accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" \n      onChange={(e)=>{\n        const file = e.target.files[0];\n        readFile(file);\n      }}\n      />\n\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}